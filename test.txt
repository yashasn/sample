exports makes the function available globally
middleware